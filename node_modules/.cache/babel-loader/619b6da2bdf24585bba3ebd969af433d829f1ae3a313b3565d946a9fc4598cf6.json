{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport taskService from './taskService';\nconst initialState = {\n  tasks: [],\n  isError: false,\n  isSuccess: false,\n  isLoading: false,\n  message: ''\n};\nexport const taskSlice = createSlice({\n  name: 'task',\n  initialState,\n  reducers: {\n    reset: state => initialState\n  },\n  extraReducers: builder => {\n    builder.addCase(createTask.pending, state => {\n      state.isLoading = true;\n    }).addCase(createTask.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.tasks.push(action.payload);\n    }).addCase(createTask.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = \"Oops, you forgot to define any task\";\n    }).addCase(getTasks.pending, state => {\n      state.isLoading = true;\n    }).addCase(getTasks.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.tasks = action.payload;\n    }).addCase(getTasks.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = \"Unable to retreive your tasks from the server\";\n    }).addCase(deleteTask.pending, state => {\n      state.isLoading = true;\n    }).addCase(deleteTask.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.tasks = state.tasks.filter(task => task._id !== action.payload.id);\n    }).addCase(deleteTask.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = \"Unable to delete your task\";\n    });\n  }\n});\nexport const createTask = createAsyncThunk('tasks/create', async (taskData, thunkAPI) => {\n  try {\n    const token = thunkAPI.getState().auth.user.token;\n    return await taskService.createTask(taskData, token);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const getTasks = createAsyncThunk('tasks/getAll', async (_, thunkAPI) => {\n  try {\n    const token = thunkAPI.getState().auth.user.token;\n    return await taskService.getTasks(token);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const deleteTask = createAsyncThunk('tasks/delete', async (id, thunkAPI) => {\n  try {\n    const token = thunkAPI.getState().auth.user.token;\n    return await taskService.deleteTask(id, token);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const {\n  reset\n} = taskSlice.actions;\nexport default taskSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","taskService","initialState","tasks","isError","isSuccess","isLoading","message","taskSlice","name","reducers","reset","state","extraReducers","builder","addCase","createTask","pending","fulfilled","action","push","payload","rejected","getTasks","deleteTask","filter","task","_id","id","taskData","thunkAPI","token","getState","auth","user","error","response","data","toString","rejectWithValue","_","actions","reducer"],"sources":["D:/Qanita/Experiments/Task-MERN/frontend/src/features/tasks/taskSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport taskService from './taskService';\r\nconst initialState = {\r\n    tasks: [],\r\n    isError: false,\r\n    isSuccess: false,\r\n    isLoading: false,\r\n    message: ''\r\n};\r\nexport const taskSlice = createSlice({\r\n    name: 'task',\r\n    initialState,\r\n    reducers: {\r\n        reset: state => initialState\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n        .addCase(createTask.pending, (state) => {\r\n            state.isLoading = true;\r\n        })\r\n        .addCase(createTask.fulfilled, (state, action) => {\r\n            state.isLoading = false;\r\n            state.isSuccess = true;\r\n            state.tasks.push(action.payload)\r\n        })\r\n        .addCase(createTask.rejected, (state, action) => {\r\n            state.isLoading = false;\r\n            state.isError = true;\r\n            state.message = \"Oops, you forgot to define any task\";\r\n        })\r\n        .addCase(getTasks.pending, (state) => {\r\n            state.isLoading = true;\r\n        })\r\n        .addCase(getTasks.fulfilled, (state, action) => {\r\n            state.isLoading = false;\r\n            state.isSuccess = true;\r\n            state.tasks = action.payload;\r\n        })\r\n        .addCase(getTasks.rejected, (state, action) => {\r\n            state.isLoading = false;\r\n            state.isError = true;\r\n            state.message = \"Unable to retreive your tasks from the server\";\r\n        })\r\n        .addCase(deleteTask.pending, (state) => {\r\n            state.isLoading = true\r\n        })\r\n        .addCase(deleteTask.fulfilled, (state, action) => {\r\n            state.isLoading = false\r\n            state.isSuccess = true\r\n            state.tasks = state.tasks.filter(task => task._id !== action.payload.id)\r\n        })\r\n        .addCase(deleteTask.rejected, (state, action) => {\r\n            state.isLoading = false\r\n            state.isError = true\r\n            state.message = \"Unable to delete your task\"\r\n        })\r\n    }\r\n});\r\nexport const createTask = createAsyncThunk(\r\n    'tasks/create',\r\n    async (taskData, thunkAPI) => {\r\n        try {\r\n            const token = thunkAPI.getState().auth.user.token;\r\n            return await taskService.createTask(taskData, token);\r\n        } catch (error) {\r\n            const message = (error.response && error.response.data && error.response.data.message) || error.message || error.toString();\r\n            return thunkAPI.rejectWithValue(message);\r\n        }\r\n    }\r\n)\r\nexport const getTasks = createAsyncThunk(\r\n    'tasks/getAll',\r\n    async (_, thunkAPI) => {\r\n        try {\r\n            const token = thunkAPI.getState().auth.user.token;\r\n            return await taskService.getTasks(token);\r\n        } catch (error) {\r\n            const message = (error.response && error.response.data && error.response.data.message)|| error.message || error.toString();\r\n            return thunkAPI.rejectWithValue(message);\r\n        }\r\n    }\r\n)\r\nexport const deleteTask = createAsyncThunk(\r\n    'tasks/delete',\r\n    async (id, thunkAPI) => {\r\n        try {\r\n            const token = thunkAPI.getState().auth.user.token;\r\n            return await taskService.deleteTask(id, token);\r\n        } catch (error) {\r\n            const message = (error.response && error.response.data && error.response.data.message) || error.message || error.toString();\r\n            return thunkAPI.rejectWithValue(message);\r\n        }\r\n    }\r\n    )\r\nexport const { reset } = taskSlice.actions;\r\nexport default taskSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}